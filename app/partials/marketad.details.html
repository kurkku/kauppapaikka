<div ng-include src="'partials/marketad.header.html'"></div>

<div class="container">

  <div class="row" ng-if="marketad.found === true" ng-cloak>
    <!-- Details view -->
    <div class="col-md-6 thumbnail">
      <h1 id="title">{{marketad.title}}</h1>
      <p id="description">{{marketad.description}}</p>
      <p><label>Price:</label> <span id="price">{{marketad.priceCents | prettyEuro}}</span></p>
      <p><label>Email:</label> <span id="email">{{marketad.email}}</span></p>
      <p><label>Phone:</label> <span id="phone">{{marketad.phone}}</span></p>
      <div ng-controller="DeleteController">
        <button id="deleteButton" class="btn btn-primary" ng-click="deleteAd(marketad.id);">Delete</button>
        <div class="deleteStatus">
          <span id="deleteOngoing" ng-show="deleteStatus == 'pending'">Deleting...</span>
          <span id="deleteSuccess" ng-show="deleteStatus == 'ok'">Advert deleted. <a href="#/ads">Get back to the list.</a></span>
          <span id="deleteFailure" ng-show="deleteStatus == 'failure'">Advert delete failed.</span>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="thumbnail" ng-show="marketad.imageUrl !== null">
        <a href="{{marketad.imageUrl}}"><img id="marketadImage" class="img-responsive" ng-src="{{marketad.imageUrl}}"></a>
        <small>Click to enlarge</small>
      </div>
    </div>
  </div>

  <div class="row" ng-if="marketad.found === false" ng-cloak>
    <!-- Error panel -->
    <div class="col-md-6">
      <div class="jumbotron" id="error">
        <h2>The item you requested is not available.</h2>
        <h4><a href="#/ads">Get back to list.</a></h4>
      </div>
    </div>
  </div>

</div>
